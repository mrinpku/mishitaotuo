<!DOCTYPE html>
<html>
<head>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=DdCv5QON9aBCKEzAhT0LsG5y"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/library/Heatmap/2.0/src/Heatmap_min.js"></script>


    <title>密室逃脱地图展示</title>

    <style type="text/css">
    ul,li{list-style: none;margin:0;padding: 0}

    html{height:100%}
    body{height:100%;margin:0px;padding:0px}
    #container{height:100%;width:78%;float:left;border-right:2px solid #bcbcbc;}
    #r-result{height:100%;width:20%;float:left;}
    .btn-container{margin:20px;}
    fieldset{border: 1px solid;border-radius: 3px;}
    fieldset label{font-size: 14px; line-height: 30px;}
    .btn{
    	color: #333;background-color: #fff;display: inline-block;padding: 6px 12px;font-size: 14px;
		font-weight: normal;line-height: 1.428571429;border: 1px solid #ccc;border-radius: 4px;
		margin-top: 5px;margin-bottom: 5px;}	
	.btn:hover{color: #333;background-color: #ebebeb;border-color: #adadad;}
	.text-primary{
		font-weight: bold;
	}
	textarea{border: 1px solid #ccc;border-radius: 4px;}
	textarea:focus{border-color: #66afe9;outline: 0;box-shadow: inset 0 1px 1px rgba(0,0,0,0.075),0 0 8px rgba(102,175,233,0.6);}
	.color-list li{font-size: 14px; line-height: 30px;}
    </style>	
</head>
<body>
<div id="container">
</div>
<div id="r-result">
    <div class="btn-container">
    	<fieldset>
    		 <legend>设置</legend>
    	<label>设置热力图半径0-100</label>
    	<input type="range" max="100" style = "width:150px" min="1" value="20" onchange="setRadius(this.value)">
    	<span id="radius-result" class="text-primary">20</span>
    	<br/>
    	<label>设置热力图透明度0-100</label>
    	<input type="range" max="100" style = "width:150px" min="1" value="60" onchange="setOpacity(this.value)">
    	<span id="opacity-result" class="text-primary">60</span>
		<br/>
		<label>设置热力图渐变区间</label>

		<ul class="color-list">
			<li>起始颜色: <input data-key="0.1" type="color" value="#66FF00" onchange="setGradient()"/></li>
			<li>中间颜色: <input  data-key="0.5" type="color" value="#FFAA00" onchange="setGradient()"/></li>
			<li>结束颜色: <input data-key="1.0" type="color" value="#FF0000" onchange="setGradient()"/></li>
		</ul>

        <!--span style="font-size:14px;">显示热力图:</span><input type="checkbox"  onclick="toggle();" checked="checked" /--></n>
        <input type="button" value="显示密室逃脱热力图" onclick="mishireli()" /></br>
        <input type="button" value="显示密室逃脱麻点图" onclick="mishimadian()" /></br>
        <input type="button" value="显示高校麻点图" onclick="gaoxiaomadian()" /></br>
        <input type="button" value="清除所有叠加层" onclick="map.clearOverlays()" /></br>
        </fieldset>
    </div>

</div>
<script type="text/javascript">
    var map = new BMap.Map("container");          // 创建地图实例

    var point = new BMap.Point(116.418261, 39.921984);
    map.centerAndZoom(point, 15);             // 初始化地图，设置中心点坐标和地图级别
    map.enableScrollWheelZoom(); // 允许滚轮缩放
  

 
 
var points =[
    {"lng":116.326461,"lat":39.960318,"count":1},
    {"lng":116.335003,"lat":39.933047,"count":1},
    {"lng":116.502237,"lat":39.915493,"count":1},
    {"lng":116.487709,"lat":39.894183,"count":1},
    {"lng":116.314728,"lat":39.979319,"count":1},
    {"lng":116.383221,"lat":39.892813,"count":1},
    {"lng":116.443903,"lat":39.946041,"count":1},
    {"lng":116.460997,"lat":39.910498,"count":1},
    {"lng":116.357446,"lat":40.012442,"count":1},
    {"lng":116.469059,"lat":40.007019,"count":1},
    {"lng":116.315177,"lat":39.989754,"count":1},
    {"lng":116.42272,"lat":39.933677,"count":1},
    {"lng":116.414174,"lat":39.86571,"count":1},
    {"lng":116.466486,"lat":39.911958,"count":1},
    {"lng":116.379777,"lat":39.881831,"count":1},
    {"lng":116.459996,"lat":39.924291,"count":1},
    {"lng":116.401259,"lat":39.961631,"count":1},
    {"lng":116.379998,"lat":39.916897,"count":1},
    {"lng":116.384199,"lat":39.98068,"count":1},
    {"lng":116.377711,"lat":39.879955,"count":1},
    {"lng":116.35861,"lat":40.014708,"count":1},
    {"lng":116.189601,"lat":39.787197,"count":1},
    {"lng":116.385649,"lat":39.90477,"count":1},
    {"lng":116.314728,"lat":39.979319,"count":1},
    {"lng":116.343816,"lat":39.997016,"count":1},
    {"lng":116.33366,"lat":39.998764,"count":1},
    {"lng":116.356809,"lat":40.006059,"count":1},
    {"lng":116.460898,"lat":39.938441,"count":1},
    {"lng":116.519859,"lat":39.929008,"count":1},
    {"lng":116.467606,"lat":39.89828,"count":1},
    {"lng":116.394852,"lat":39.895581,"count":1},
    {"lng":116.342458,"lat":39.903594,"count":1},
    {"lng":116.421144,"lat":39.898916,"count":1},
    {"lng":116.427425,"lat":39.99392,"count":1},
    {"lng":116.325843,"lat":39.959315,"count":1},
    {"lng":116.681769,"lat":39.896273,"count":1},
    {"lng":115.870604,"lat":40.037202,"count":1},
    {"lng":116.458934,"lat":39.924596,"count":1},
    {"lng":116.4513,"lat":39.865911,"count":1},
    {"lng":116.125251,"lat":39.944838,"count":1},
    {"lng":116.444558,"lat":39.899179,"count":1},
    {"lng":116.347061,"lat":39.971025,"count":1},
    {"lng":116.292677,"lat":39.965398,"count":1},
    {"lng":116.326957,"lat":39.852272,"count":1},
    {"lng":116.345127,"lat":39.763705,"count":1},
    {"lng":116.29301,"lat":39.963256,"count":1},
    {"lng":116.356809,"lat":40.006059,"count":1},
    {"lng":116.416434,"lat":39.920494,"count":1},
    {"lng":116.347473,"lat":39.899124,"count":1},
    {"lng":116.375443,"lat":39.958029,"count":1},
    {"lng":116.343286,"lat":39.983541,"count":1},
    {"lng":116.376833,"lat":39.983838,"count":1},
    {"lng":116.33926,"lat":39.997582,"count":1},
    {"lng":116.672554,"lat":39.887063,"count":1},
    {"lng":116.434082,"lat":39.863557,"count":1},
    {"lng":116.459318,"lat":39.918633,"count":1},
    {"lng":116.361756,"lat":39.956204,"count":1},
    {"lng":116.32832,"lat":39.982567,"count":1},
    {"lng":115.985951,"lat":40.476513,"count":1},
    {"lng":116.399068,"lat":39.905794,"count":1},
    {"lng":116.33366,"lat":39.998764,"count":1},
    {"lng":116.384199,"lat":39.98068,"count":1},
    {"lng":116.331648,"lat":39.971896,"count":1},
    {"lng":116.527537,"lat":39.921276,"count":1},
    {"lng":116.46353,"lat":39.904915,"count":1},
    {"lng":116.478711,"lat":39.912013,"count":1},
    {"lng":116.283178,"lat":39.938358,"count":1},
    {"lng":116.330662,"lat":39.971951,"count":1},
    {"lng":116.327844,"lat":39.960366,"count":1},
    {"lng":116.310504,"lat":39.950141,"count":1},
    {"lng":116.170396,"lat":39.773396,"count":1},
    {"lng":116.15596,"lat":39.723267,"count":1},
    {"lng":116.466001,"lat":39.898799,"count":1},
    {"lng":116.473524,"lat":40.014487,"count":1},
    {"lng":115.986282,"lat":40.471224,"count":1},
    {"lng":116.466199,"lat":39.898757,"count":1},
    {"lng":116.430191,"lat":39.903912,"count":1},
    {"lng":115.98592,"lat":40.477206,"count":1},
    {"lng":116.464191,"lat":39.904825,"count":1},
    {"lng":116.61242,"lat":39.914379,"count":1},
    {"lng":116.492853,"lat":39.904396,"count":1},
    {"lng":116.502398,"lat":39.915465,"count":1},
    {"lng":116.527488,"lat":39.929264,"count":1},
    {"lng":116.321886,"lat":39.989028,"count":1},
    {"lng":116.521498,"lat":39.922797,"count":1},
    {"lng":116.466558,"lat":39.911944,"count":1},
    {"lng":116.328738,"lat":39.960069,"count":1},
    {"lng":116.349416,"lat":39.735301,"count":1},
    {"lng":116.311586,"lat":39.949111,"count":1},
    {"lng":116.468299,"lat":40.002011,"count":1},
    {"lng":116.264538,"lat":40.228334,"count":1},
    {"lng":116.308066,"lat":39.968322,"count":1},
    {"lng":116.325531,"lat":39.959191,"count":1},
    {"lng":116.292562,"lat":39.963159,"count":1},
    {"lng":116.557439,"lat":39.91624,"count":1},
    {"lng":116.434082,"lat":39.863557,"count":1},
    {"lng":116.377314,"lat":39.983486,"count":1},
    {"lng":116.461777,"lat":39.925557,"count":1},
    {"lng":116.342205,"lat":39.958983,"count":1},
    {"lng":116.379777,"lat":39.881831,"count":1},
    {"lng":116.379998,"lat":39.916897,"count":1},
    {"lng":116.401161,"lat":39.868133,"count":1},
    {"lng":116.378003,"lat":39.843699,"count":1},
    {"lng":116.487643,"lat":39.894183,"count":1},
    {"lng":116.409891,"lat":39.968744,"count":1},
    {"lng":116.33043,"lat":39.97249,"count":1},
    {"lng":116.365212,"lat":39.953895,"count":1},
    {"lng":116.355938,"lat":39.982463,"count":1},
    {"lng":116.343286,"lat":39.983541,"count":1},
    {"lng":116.519859,"lat":39.929008,"count":1},
    {"lng":116.385617,"lat":39.904721,"count":1},
    {"lng":116.314458,"lat":39.972,"count":1},
    {"lng":116.487643,"lat":39.894183,"count":1},
    {"lng":116.325531,"lat":39.959191,"count":1},
    {"lng":116.442292,"lat":39.901663,"count":1},
    {"lng":116.264539,"lat":40.228328,"count":1},
    {"lng":116.343695,"lat":39.996187,"count":1},
    {"lng":116.475618,"lat":39.89947,"count":1},
    {"lng":116.479501,"lat":39.897809,"count":1},
    {"lng":116.4115,"lat":39.958513,"count":1},
    {"lng":116.458934,"lat":39.924596,"count":1},
    {"lng":116.400308,"lat":39.944568,"count":1},
    {"lng":116.340166,"lat":40.077157,"count":1},
    {"lng":116.343816,"lat":39.997016,"count":1},
    {"lng":116.358073,"lat":39.964265,"count":1},
    {"lng":116.355303,"lat":40.012601,"count":1},
    {"lng":116.527488,"lat":39.929264,"count":1},
    {"lng":116.429223,"lat":39.898937,"count":1},
    {"lng":116.40842,"lat":39.951807,"count":1},
    {"lng":116.435463,"lat":39.876605,"count":1},
    {"lng":116.528156,"lat":39.929396,"count":1},
    {"lng":116.520358,"lat":39.928663,"count":1},
    {"lng":116.435463,"lat":39.876612,"count":1},
    {"lng":116.246039,"lat":40.229643,"count":1},
    {"lng":116.473682,"lat":40.00333,"count":1},
    {"lng":116.142076,"lat":39.753922,"count":1},
    {"lng":116.460848,"lat":39.937024,"count":1},
    {"lng":116.432925,"lat":39.850548,"count":1},
    {"lng":116.399118,"lat":39.905766,"count":1},
    {"lng":116.623495,"lat":39.932045,"count":1},
    {"lng":116.342205,"lat":39.958983,"count":1},
    {"lng":116.47953,"lat":39.897885,"count":1},
    {"lng":116.331327,"lat":39.9724,"count":1},
    {"lng":116.340504,"lat":39.998135,"count":1},
    {"lng":116.401161,"lat":39.868133,"count":1},
    {"lng":116.359533,"lat":40.018072,"count":1},
    {"lng":116.328967,"lat":39.980777,"count":1},
    {"lng":116.346131,"lat":40.084161,"count":1},
    {"lng":116.313055,"lat":39.98435,"count":1},
    {"lng":116.347671,"lat":39.971771,"count":1},
    {"lng":116.473524,"lat":40.014487,"count":1},
    {"lng":116.465222,"lat":39.898813,"count":1},
    {"lng":116.486388,"lat":39.99184,"count":1},
    {"lng":116.314475,"lat":39.972677,"count":1},
    {"lng":116.148798,"lat":39.7375,"count":1},
    {"lng":116.427814,"lat":39.89884,"count":1},
    {"lng":116.466041,"lat":39.898813,"count":1},
    {"lng":116.234659,"lat":39.910837,"count":1},
    {"lng":116.343286,"lat":39.983541,"count":1},
    {"lng":116.521697,"lat":39.930834,"count":1},
    {"lng":116.234659,"lat":39.910837,"count":1},
    {"lng":116.312507,"lat":39.982581,"count":1},
    {"lng":116.487643,"lat":39.894183,"count":1},
    {"lng":116.574353,"lat":39.912096,"count":1},
    {"lng":116.331648,"lat":39.971896,"count":1},
    {"lng":116.32832,"lat":39.982567,"count":1},
    {"lng":116.325531,"lat":39.959191,"count":1},
    {"lng":116.40278,"lat":39.954358,"count":1},
    {"lng":116.343286,"lat":39.983541,"count":1},
    {"lng":116.358073,"lat":39.964265,"count":1},
    {"lng":116.475618,"lat":39.89947,"count":1},
    {"lng":116.421391,"lat":40.062359,"count":1},
    {"lng":116.340329,"lat":39.998073,"count":1},
    {"lng":116.457633,"lat":39.976333,"count":1},
    {"lng":116.427481,"lat":39.993941,"count":1},
    {"lng":116.383212,"lat":39.890827,"count":1},
    {"lng":116.425421,"lat":39.990002,"count":1},
    {"lng":116.337498,"lat":39.990099,"count":1},
    {"lng":116.527598,"lat":39.926899,"count":1},
    {"lng":116.459499,"lat":39.911155,"count":1},
    {"lng":116.487643,"lat":39.894183,"count":1},
    {"lng":116.364594,"lat":39.987031,"count":1},
    {"lng":116.314728,"lat":39.979319,"count":1},
    {"lng":116.52751,"lat":39.929582,"count":1},
    {"lng":116.460794,"lat":39.936989,"count":1},
    {"lng":116.420316,"lat":39.905766,"count":1},
    {"lng":116.408051,"lat":39.9518,"count":1},
    {"lng":116.330765,"lat":39.972559,"count":1},
    {"lng":116.4239,"lat":40.002356,"count":1},
    {"lng":116.326383,"lat":39.982318,"count":1},
    {"lng":116.283496,"lat":39.938365,"count":1},
    {"lng":116.29301,"lat":39.963256,"count":1},
    {"lng":116.311053,"lat":39.995323,"count":1},
    {"lng":116.410265,"lat":39.948281,"count":1},
    {"lng":116.519859,"lat":39.929008,"count":1},
    {"lng":116.47797,"lat":39.921559,"count":1},
    {"lng":116.416575,"lat":39.920598,"count":1},
    {"lng":116.340247,"lat":40.077233,"count":1},
    {"lng":116.343995,"lat":39.996871,"count":1},
    {"lng":116.530257,"lat":39.929327,"count":1}];
        

    if(!isSupportCanvas()){
    	alert('热力图目前只支持有canvas支持的浏览器,您所使用的浏览器不能使用热力图功能~')
    }

var icon = new BMap.Icon('1.png', new BMap.Size(20, 32), {
        anchor: new BMap.Size(10, 30)
         });

var gaoxiao=[116.434416,39.986354,
        116.323255,39.848276,
        116.31305,39.936754,
        116.487245,39.879699,
        116.482836,39.920231,
        116.433812,39.996166,
        116.564055,39.918723,
        116.214768,39.934603,
        116.363594,39.995254,
        116.37377,39.967216,
        116.389231,39.995053,
        116.321712,39.976119,
        116.350675,40.007593,
        116.353078,40.044231,
        116.224007,40.242056,
        116.175994,39.736668,
        116.461925,40.027479,
        116.390489,39.942397,
        116.36417,39.908298,
        116.356373,39.989906,
        116.349349,39.957255,
        116.289956,40.176948,
        116.49572,39.970887,
        116.259967,40.095311,
        116.3661,39.99582,
        116.359718,39.870929,
        116.313715,39.942694,
        116.317887,39.961451,
        116.183324,39.718626,
        116.31431,40.097498,
        116.111633,40.071408,
        116.428101,39.977695,
        116.173829,39.725327,
        116.434774,39.977584,
        116.381505,40.114778,
        116.36421,40.010529,
        116.386031,39.997271,
        116.3537,39.993167,
        116.327024,39.956578,
        116.277219,40.164302,
        116.354162,39.952837,
        116.358124,39.971481,
        116.286166,39.84354,
        116.483167,39.8828,
        116.261312,40.221449,
        116.254114,40.228782,
        116.352193,40.000339,
        116.646002,39.935219,
        116.593935,39.919187,
        116.311165,39.948399,
        116.34892,39.941021,
        116.512838,39.777486,
        116.292951,39.7506,
        116.32108,39.931139,
        116.354123,39.997161,
        116.335648,39.749851,
        116.446629,39.964742,
        116.441156,39.986077,
        116.315063,40.09992,
        116.333009,39.753929,
        116.470665,39.989664,
        116.325335,40.030835,
        116.073282,39.694347,
        116.365049,39.967299,
        116.31838,39.8439,
        116.35444,39.976561,
        116.347541,39.967051,
        116.7394,39.940799,
        116.170875,39.727415,
        116.232443,39.996912,
        116.323132,39.934845,
        116.352765,39.932031,
        116.255161,39.915797,
        115.89862,40.378335,
        116.481627,39.987314,
        116.344398,39.90587,
        116.25386,40.226799,
        116.374346,39.771663,
        116.325566,39.931512,
        116.406724,39.970693,
        116.2792,39.914905,
        116.377105,40.07067,
        116.339349,39.869067,
        116.25655,40.123226,
        116.587796,40.005541,
        116.31952,40.002653,
        116.288837,40.030241,
        116.429948,39.991751,
        116.410432,39.942162,
        116.423353,39.916157,
        116.493591,39.928566,
        116.375393,39.76828,
        116.23318,39.779843,
        116.319095,39.519166,
        116.338777,40.00523,
        116.35688,40.00313,
        116.67707,40.126061,
        116.192171,40.231281,
        116.56539,40.108329,
        116.223247,40.242187,
        116.352453,40.026284,
        116.425494,40.037934,
        116.348281,39.957089,
        116.517878,39.771754,
        116.287732,39.726895,
        116.658191,39.880439,
        116.060692,39.637686,
        116.421244,39.917305,
        116.29599,40.150813,
        116.137491,40.125185,
        116.374185,40.084651,
        116.375937,39.890703,
        116.3181,39.846476,
        116.667523,39.868583,
        116.499596,39.841469,
        116.659119,40.221614,
        116.468929,39.929679,
        116.34632,40.058004,
        116.599676,39.926152,
        116.315583,40.096104,
        116.647955,40.345721,
        116.654223,39.927155,
        116.575,40.056713,
        116.223248,40.24218,
        116.103069,39.672156,
        116.283555,40.026298,
        116.315334,39.977391,
        116.370367,39.943669,
        116.249809,40.201372,
        116.292759,40.009976,
        116.323205,39.966781,
        116.210087,40.23312,
        116.362117,39.983023,
        116.20914,39.950756,
        116.263236,39.984744,
        116.338817,40.003883,
        116.377492,39.925121,
        116.375402,40.064817,
        116.430284,40.15488,
        116.835778,40.374906,
        116.318692,39.522324,
        116.557713,39.971129,
        116.35583,39.985614,
        116.173824,40.105162,
        117.028374,40.143381,
        116.364615,39.912262,
        116.328417,39.962274,
        116.349001,40.049837,
        116.312024,40.170588,
        116.431255,39.955105,
        116.628936,39.918689,
        116.325326,39.977066,
        116.312822,39.975158,
        116.209486,39.932349,
        116.364002,40.067722,
        116.427098,40.044169,
        116.341907,40.025048,
        116.428266,39.949014,
        116.323481,39.975338,
        116.432172,39.997264,
        116.463815,39.886288,
        116.29029,39.85941,
        116.34522,39.941,
        116.362382,39.977826,
        116.126048,40.1033,
        116.205982,39.923053,
        116.313715,39.942694,
        116.363642,39.763663,
        116.43218,39.985324,
        116.358734,39.991474,
        116.35931,39.988178,
        116.250733,40.213474,
        116.120669,40.194352,
        116.323203,39.97634,
        116.325043,39.963774,
        116.35811,39.994908,
        116.211031,40.210788,
        116.240357,40.149345,
        116.333051,39.967479,
        116.331807,39.932632,
        116.351972,40.007572,
        116.250387,40.233416,
        116.385021,39.958147,
        116.391486,39.967382,
        116.37362,40.084879,
        116.376709,40.036214,
        116.355117,40.000187,
        116.545614,39.91891,
        116.286066,40.070318,
        116.5926,39.921601,
        116.688808,39.881339,
        116.49833,39.84237,
        116.336197,40.000919,
        116.337059,40.009354,
        116.336712,39.987321,
        116.350034,40.005887,
        116.292536,39.875325,
        116.465701,39.936339,
        116.36655,39.908866,
        116.321209,39.976596,
        116.38474,40.223852,
        116.357424,39.890966,
        116.516926,39.774915,
        116.303605,39.791078,
        116.312393,40.001037,
        116.483858,39.917935,
        116.368547,39.994093,
        116.314174,40.001306,
        116.441932,40.000567,
        116.313846,39.961776,
        116.259677,40.227729,
        116.480667,39.989256,
        116.091539,39.726853,
        116.67506,39.935696,
        116.675404,39.935433,
        116.34623,39.727394,
        116.132958,40.237953,
        116.311672,39.800953,
        116.35962,39.986755,
        116.35962,39.986755]

    function gaoxiaomadian(){
        for (var i = gaoxiao.length - 2; i >= 0; i-=2) {
            map.addOverlay(new BMap.Marker(new BMap.Point(gaoxiao[i],gaoxiao[i+1]),{icon : icon}));
        };
    }
    	
	//详细的参数,可以查看heatmap.js的文档 https://github.com/pa7/heatmap.js/blob/master/README.md

	//参数说明如下:
	/* visible 热力图是否显示,默认为true
     * opacity 热力的透明度,1-100
     * radius 势力图的每个点的半径大小   
     * gradient  {JSON} 热力图的渐变区间 . gradient如下所示
     *	{
			.2:'rgb(0, 255, 255)',
			.5:'rgb(0, 110, 255)',
			.8:'rgb(100, 0, 255)'
		}
		其中 key 表示插值的位置, 0~1. 
		    value 为颜色值. 
     */
    function mishireli(){
	   heatmapOverlay = new BMapLib.HeatmapOverlay({"radius":5});
	   map.addOverlay(heatmapOverlay);
	   heatmapOverlay.setDataSet({data:points,max:1});
    }
    function mishimadian(){  
        for (var i = points.length - 1; i >= 0; i--) {
            var marker1 = new BMap.Marker(new BMap.Point(points[i].lng, points[i].lat));  // 创建标注
            map.addOverlay(marker1);              // 将标注添加到地图中
            };
    }

    function setRadius(radius){
    	document.getElementById("radius-result").innerHTML = radius;
        heatmapOverlay.setOptions({"radius":radius})
    }

    function setOpacity(opacity){
    	document.getElementById("opacity-result").innerHTML = opacity;
        heatmapOverlay.setOptions({"opacity":opacity})
    }

    function toggle(){
        heatmapOverlay.toggle()
    }

     function setGradient(){

     	/*
		格式如下所示:
		{
	  		0:'rgb(102, 255, 0)',
	 	 	.5:'rgb(255, 170, 0)',
		  	1:'rgb(255, 0, 0)'
		}
     	*/
     	var gradient = {};
     	var colors = document.querySelectorAll("input[type='color']");
     	colors = [].slice.call(colors,0);
     	colors.forEach(function(ele){
			gradient[ele.getAttribute("data-key")] = ele.value; 
     	});
        heatmapOverlay.setOptions({"gradient":gradient});
    }


    function isSupportCanvas(){
        var elem = document.createElement('canvas');
        return !!(elem.getContext && elem.getContext('2d'));
    }





</script>
</body>
</html>